{% extends "blog/base.html" %}
{% block title %}Boeken{% endblock %}
{% block content %}
  <h1>Boekenlijst</h1>

  <form method="get" style="margin-bottom: 1rem;">
    <input type="text" name="q" placeholder="Zoek in titel/auteur/beschrijving" value="{{ q }}">
    <input type="text" name="achternaam" placeholder="Achternaam" value="{{ achternaam }}">
    <input type="text" name="voornaam" placeholder="Voornaam" value="{{ voornaam }}">
    <input type="text" name="taal" placeholder="Taal" value="{{ taal }}">
    <select name="order">
      <option value="">Sorteer op…</option>
      <option value="achternaam" {% if order == 'achternaam' %}selected{% endif %}>Achternaam ⬆</option>
      <option value="-achternaam" {% if order == '-achternaam' %}selected{% endif %}>Achternaam ⬇</option>
      <option value="titel" {% if order == 'titel' %}selected{% endif %}>Titel ⬆</option>
      <option value="-titel" {% if order == '-titel' %}selected{% endif %}>Titel ⬇</option>
    </select>
    <button type="submit">Filter</button>
    <a href="{% url 'blog:books' %}">Reset</a>
  </form>

  {% if books %}
    <ul>
      {% for book in books %}
        <li>
          <strong>{{ book.titel }}</strong>
          door {{ book.voornaam }} {{ book.achternaam }}
          {% if book.taal %} — {{ book.taal }}{% endif %}
          {% if book.beschrijving %}
            <div>{{ book.beschrijving|linebreaksbr }}</div>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>Geen boeken gevonden.</p>
  {% endif %}
{% endblock %}